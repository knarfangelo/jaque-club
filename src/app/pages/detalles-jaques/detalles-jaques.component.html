<app-navbar></app-navbar>

<section class="contenedor-jaque" *ngIf="producto">
  <img [src]="producto.imagenes[2]" alt="background" class="background">
  <section class="catalogo-jaque">

    <!-- Swiper principal -->
    <swiper-container
      #swiperPrincipal
      id="swiperPrincipal"
      class="producto"
      direction="vertical"
      allow-touch-move="false"  
      slides-per-view="1">
      <swiper-slide [allowTouchMove]="false" class="video360">
        <app-video360 [folderPath]="producto.video360" [frameCount]="producto.frameCount"></app-video360>
      </swiper-slide>
      <swiper-slide>
        <img class="principal" [src]="producto.imagenes[0]" alt="Imagen principal">
        <div class="mas">+</div>
        <img [src]="producto.imagenes[1]" alt="Imagen secundaria">
      </swiper-slide>
      <swiper-slide>
        <img class="secundario" [src]="producto.imagenes[3]" alt="Imagen principal">
      </swiper-slide>
      <swiper-slide>
        <img class="tercero" [src]="producto.imagenes[4]" alt="Imagen principal">
      </swiper-slide>
    </swiper-container>

    <!-- Swiper gallery (thumbnails) -->
    <swiper-container
      class="gallery"
      direction="vertical"
      space-between="12"
      navigation="true"
      breakpoints='{
      "0": { "direction": "horizontal" },
      "900": { "direction": "vertical" }
      }'
      slides-per-view="4">
      <swiper-slide (click)="goToSlide(0)" class="iconvideo360">
        <img class="principal" [src]="producto.imagenes[0]" alt="Imagen principal">
        <img src="video360.svg" alt="">
      </swiper-slide>
      <swiper-slide (click)="goToSlide(1)">
        <img class="principal" [src]="producto.imagenes[0]" alt="Imagen principal">
      </swiper-slide>
      <swiper-slide (click)="goToSlide(2)">
        <img class="secundario" [src]="producto.imagenes[3]" alt="Imagen principal">
      </swiper-slide>
      <swiper-slide (click)="goToSlide(3)">
        <img class="tercero" [src]="producto.imagenes[4]" alt="Imagen principal">
      </swiper-slide>
    </swiper-container>

    <h1>{{ producto.titulo }}</h1>
    <p>{{ producto.descripcion }}</p>

    <h2>Caracter√≠sticas:</h2>
    <ul class="caracteristicas-1">
      <li *ngFor="let item of producto.caracteristicas.caracteristicas1">{{ item }}</li>
    </ul>
    <ul class="caracteristicas-2">
      <li *ngFor="let item of producto.caracteristicas.caracteristicas2">{{ item }}</li>
    </ul>
    <ul class="caracteristicas-3">
      <li *ngFor="let item of producto.caracteristicas.caracteristicas3">{{ item }}</li>
    </ul>

    <div class="pagos">
      <button (click)="abrirModal()" class="pedir">PEDIR Y PAGAR EN CASA</button>

      <div class="cantidad">
        <button (click)="decrementar()">-</button>
        <p>{{ cantidad }}</p>
        <button (click)="incrementar()">+</button>
      </div>

      <app-pagar-online></app-pagar-online>
    </div>

    <!-- Modal Principal -->
    <p-dialog 
      [(visible)]="modalVisible" 
      [modal]="true" 
      [closable]="true" 
      [dismissableMask]="true" 
      appendTo="body"
      header="Pago contra entrega"
      [style]="{width: '100vw', maxWidth: '600px', margin: '0 1em'}"
      [styleClass]="'custom-dialog'">

      <div class="info-pago">
        <h3>160 PEN + costo env√≠o 
          <button class="info" (click)="abrirModalZonas()">
            <img src="info.svg" alt="">
          </button>
        </h3>
        <small><i>(√önicamente contra entrega en Lima)</i></small>

        <p>Este pedido tiene un pago pendiente. Se actualizar√° el saldo cuando se reciba el pago de adelanto.</p>

        <h4>Formas de adelantar S/.20</h4>
        <ul>
          <li>
            ‚úÖ <b>Interbank</b> (V√≠ctor A. Concha)  
            <br>- Cuenta simple soles: <code>0573478425659</code>  
            <br>- CCI: <code>00305701347842565973</code>
          </li>
          <li>
            ‚úÖ <b>Yape/Plin</b>  
            <br>- 961760676 (V√≠ctor A. Concha)  
            <br>- 978370061 (Chiwon Elleifette)
          </li>
        </ul>

        <p>üìå Una vez realizado el pago, env√≠anos el voucher a nuestro <a 
          href="https://wa.me/+51967138339" 
          target="_blank" 
          class="whatsapp-button"
          aria-label="Contactar por WhatsApp">
          WhatsApp
        </a> desde el bot√≥n en nuestra web e ind√≠canos que deseas contraentrega para coordinar con nuestro courier.</p>
      </div>
    </p-dialog>

    <!-- Modal Zonas -->
    <p-dialog 
      [(visible)]="modalZonasVisible" 
      [modal]="true" 
      [closable]="true" 
      [dismissableMask]="true" 
      appendTo="body"
      header="Zonas de env√≠o"
      [style]="{width: '100vw', maxWidth: '600px', margin: '0 1em'}"
      [styleClass]="'custom-dialog'">

      <div class="info-zonas">
        <h4>Zona 1 (8 soles)</h4>
        <p>SAN ISIDRO, MIRAFLORES, BARRANCO, SANTIAGO DE SURCO, SURQUILLO, JES√öS MAR√çA, LA MOLINA, LINCE, MAGDALENA, CERCADO DE LIMA, EL AGUSTINO (NO ZONA ROJA), LA VICTORIA, PUEBLO LIBRE, RIMAC, SAN BORJA, SAN JUAN DE LURIGANCHO, SAN LUIS, SAN MIGUEL, SANTA ANITA, SALAMANCA - ATE, BRE√ëA.</p>

        <h4>Zona 2 (10 soles)</h4>
        <p>ATE, BELLAVISTA, CALLAO, CARABAYLLO, CARMEN DE LA LEGUA, COMAS, CHORRILLOS, EL MARQUEZ - CALLAO, HUAYCAN, INDEPENDENCIA, LOS OLIVOS, LA PERLA, LA PUNTA, PUENTE PIEDRA, SAN JUAN DE MIRAFLORES, SAN MART√çN DE PORRES, SANTA CLARA - ATE, VENTANILLA, VILLA EL SALVADOR, VILLA MARIA DEL TRIUNFO.</p>

        <small>Para otros distritos consultar por <a 
          href="https://wa.me/+51967138339" 
          target="_blank" 
          class="whatsapp-button"
          aria-label="Contactar por WhatsApp">
          WhatsApp
        </a>.</small>
      </div>
    </p-dialog>

  </section>
</section>

<app-footer></app-footer>
